# è¡¨æ ¼CRUDåŠŸèƒ½å®ç°æ€»ç»“

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

æˆåŠŸä¸ºPWAåº”ç”¨æ·»åŠ äº†ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·ç®¡ç†è¡¨æ ¼æ¨¡å—ï¼Œå®ç°äº†åŸºäºJSONPlaceholder APIçš„å¢åˆ æ”¹æŸ¥(CRUD)åŠŸèƒ½ã€‚è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€è®¾è®¡ç²¾ç¾çš„æ•°æ®ç®¡ç†ç•Œé¢ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### 1. å®Œæ•´çš„CRUDæ“ä½œ
- âœ… **æŸ¥è¯¢(Read)** - è·å–ç”¨æˆ·åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µå’Œæœç´¢
- âœ… **æ–°å¢(Create)** - æ·»åŠ æ–°ç”¨æˆ·ï¼ŒåŒ…å«è¡¨å•éªŒè¯
- âœ… **æ›´æ–°(Update)** - ç¼–è¾‘ç°æœ‰ç”¨æˆ·ä¿¡æ¯
- âœ… **åˆ é™¤(Delete)** - åˆ é™¤ç”¨æˆ·ï¼ŒåŒ…å«ç¡®è®¤æç¤º

### 2. é«˜çº§è¡¨æ ¼åŠŸèƒ½
- ğŸ” **å®æ—¶æœç´¢** - æ”¯æŒå§“åã€ç”¨æˆ·åã€é‚®ç®±æœç´¢
- ğŸ“Š **å¤šåˆ—æ’åº** - ç‚¹å‡»è¡¨å¤´è¿›è¡Œå‡åº/é™åºæ’åº
- ğŸ“„ **åˆ†é¡µæ˜¾ç¤º** - æ”¯æŒ10/20/50æ¡æ¯é¡µï¼Œæ€»é¡µæ•°è®¡ç®—
- ğŸ’¡ **é«˜äº®æ•ˆæœ** - æ–°å¢/æ›´æ–°/åˆ é™¤åçš„è§†è§‰åé¦ˆ
- ğŸ‘ï¸ **è¯¦æƒ…æŸ¥çœ‹** - æ¨¡æ€æ¡†æ˜¾ç¤ºå®Œæ•´ç”¨æˆ·ä¿¡æ¯

### 3. ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸ¨ **ç°ä»£åŒ–UI** - ç²¾ç¾çš„å¡ç‰‡å¼è®¾è®¡å’ŒåŠ¨ç”»æ•ˆæœ
- âš¡ **å¿«é€Ÿå“åº”** - æ™ºèƒ½ç¼“å­˜ç­–ç•¥ï¼Œç§’çº§åŠ è½½
- ğŸ”„ **å®æ—¶çŠ¶æ€** - åŠ è½½ã€é”™è¯¯ã€æˆåŠŸçŠ¶æ€çš„æ¸…æ™°æ˜¾ç¤º

### 4. æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ
- ğŸ† **æ¥å£ä¼˜å…ˆç­–ç•¥** - ç¼“å­˜ä¼˜å…ˆï¼Œåå°æ›´æ–°
- â° **åˆ†çº§ç¼“å­˜æ—¶é—´** - ç”¨æˆ·åˆ—è¡¨1å°æ—¶ï¼Œå•ç”¨æˆ·30åˆ†é’Ÿ
- ğŸ§¹ **è‡ªåŠ¨ç¼“å­˜æ¸…ç†** - æ•°æ®å˜æ›´åè‡ªåŠ¨æ¸…ç†ç›¸å…³ç¼“å­˜
- ğŸ“Š **ç¼“å­˜çŠ¶æ€ç›‘æ§** - å®æ—¶æ˜¾ç¤ºç¼“å­˜ä¿¡æ¯å’Œæ•°æ®æ¥æº

## ğŸ—ï¸ æŠ€æœ¯å®ç°æ¶æ„

### 1. ç»„ä»¶ç»“æ„
```
src/views/UserTable.vue (ä¸»è¡¨æ ¼ç»„ä»¶)
â”œâ”€â”€ å·¥å…·æ  (æœç´¢ã€æ“ä½œæŒ‰é’®)
â”œâ”€â”€ ç¼“å­˜ä¿¡æ¯é¢æ¿ (å¯é€‰æ˜¾ç¤º)
â”œâ”€â”€ æ•°æ®è¡¨æ ¼ (åˆ†é¡µã€æ’åºã€æ“ä½œ)
â”œâ”€â”€ æ·»åŠ /ç¼–è¾‘æ¨¡æ€æ¡† (è¡¨å•éªŒè¯)
â””â”€â”€ æŸ¥çœ‹è¯¦æƒ…æ¨¡æ€æ¡† (åªè¯»å±•ç¤º)
```

### 2. APIé›†æˆ
```typescript
// JSONPlaceholder REST API
- GET /users          // è·å–ç”¨æˆ·åˆ—è¡¨
- GET /users/{id}     // è·å–å•ä¸ªç”¨æˆ·
- POST /users         // åˆ›å»ºç”¨æˆ·
- PUT /users/{id}     // æ›´æ–°ç”¨æˆ·
- DELETE /users/{id}  // åˆ é™¤ç”¨æˆ·
```

### 3. æ•°æ®æµç®¡ç†
```typescript
interface User {
  id: number
  name: string
  username: string
  email: string
  phone: string
  website: string
  address?: Address    // å®Œæ•´åœ°å€ä¿¡æ¯
  company?: Company    // å…¬å¸ä¿¡æ¯
}
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£

### 1. è¡¨æ ¼æ•°æ®ç®¡ç†

**æœç´¢åŠŸèƒ½ï¼š**
```typescript
const filteredUsers = computed(() => {
  if (!searchQuery.value) return users.value
  const query = searchQuery.value.toLowerCase()
  return users.value.filter(user => 
    user.name.toLowerCase().includes(query) ||
    user.username.toLowerCase().includes(query) ||
    user.email.toLowerCase().includes(query)
  )
})
```

**æ’åºåŠŸèƒ½ï¼š**
```typescript
const sortBy = (field: string) => {
  if (sortField.value === field) {
    sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'
  } else {
    sortField.value = field
    sortOrder.value = 'asc'
  }
}
```

**åˆ†é¡µåŠŸèƒ½ï¼š**
```typescript
const paginatedUsers = computed(() => {
  const start = (currentPage.value - 1) * pageSize.value
  const end = start + pageSize.value
  return sortedUsers.value.slice(start, end)
})
```

### 2. CRUDæ“ä½œå®ç°

**åˆ›å»ºç”¨æˆ·ï¼š**
```typescript
const createUser = async (userData: Partial<User>) => {
  const response = await fetch(`${API_BASE_URL}/users`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(userData)
  })
  return response.json()
}
```

**æ›´æ–°ç”¨æˆ·ï¼š**
```typescript
const updateUser = async (id: number, userData: Partial<User>) => {
  const response = await fetch(`${API_BASE_URL}/users/${id}`, {
    method: 'PUT',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(userData)
  })
  return response.json()
}
```

**åˆ é™¤ç”¨æˆ·ï¼š**
```typescript
const deleteUser = async (user: User) => {
  if (!confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· "${user.name}" å—ï¼Ÿ`)) return
  await deleteUserApi(user.id)
  users.value = users.value.filter(u => u.id !== user.id)
}
```

### 3. ç¼“å­˜ç­–ç•¥ä¼˜åŒ–

**Service Workerç¼“å­˜é…ç½®ï¼š**
```javascript
// JSONPlaceholder API - ç”¨æˆ·æ•°æ®ç¼“å­˜ç­–ç•¥
if (url.origin === 'https://jsonplaceholder.typicode.com') {
  if (url.pathname === '/users') {
    cacheOptions.maxAge = 60 * 60 * 1000 // ç”¨æˆ·åˆ—è¡¨ï¼š1å°æ—¶
  } else if (url.pathname.startsWith('/users/')) {
    cacheOptions.maxAge = 30 * 60 * 1000 // å•ä¸ªç”¨æˆ·ï¼š30åˆ†é’Ÿ
  }
}
```

**å˜æ›´è¯·æ±‚å¤„ç†ï¼š**
```javascript
// POST/PUT/DELETEè¯·æ±‚ä¸ç¼“å­˜ï¼Œä½†è¦æ¸…ç†ç›¸å…³ç¼“å­˜
if (request.method !== 'GET') {
  event.respondWith(handleMutationRequest(request, url))
  return
}
```

**è‡ªåŠ¨ç¼“å­˜æ¸…ç†ï¼š**
```javascript
// æ¸…ç†ç”¨æˆ·ç›¸å…³çš„ç¼“å­˜
const userCacheKeys = keys.filter(request => {
  const requestUrl = new URL(request.url)
  return requestUrl.origin === 'https://jsonplaceholder.typicode.com' &&
         requestUrl.pathname.startsWith('/users')
})
await Promise.all(userCacheKeys.map(key => cache.delete(key)))
```

## ğŸ¨ UI/UXè®¾è®¡äº®ç‚¹

### 1. ç°ä»£åŒ–è¡¨æ ¼è®¾è®¡
- **å¡ç‰‡å¼å¸ƒå±€** - åœ†è§’ã€é˜´å½±ã€æ¸å˜æ•ˆæœ
- **äº¤äº’å¼è¡¨å¤´** - æ‚¬åœæ•ˆæœã€æ’åºæŒ‡ç¤ºå™¨
- **è¡Œçº§æ“ä½œ** - æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤æŒ‰é’®
- **çŠ¶æ€æŒ‡ç¤º** - åŠ è½½åŠ¨ç”»ã€é«˜äº®æ•ˆæœ

### 2. å“åº”å¼é€‚é…
```css
/* æ¡Œé¢ç«¯ - å®Œæ•´è¡¨æ ¼æ˜¾ç¤º */
@media (min-width: 1024px) {
  .data-table { /* æ‰€æœ‰åˆ—æ­£å¸¸æ˜¾ç¤º */ }
}

/* å¹³æ¿ç«¯ - ä¼˜åŒ–åˆ—å®½ */
@media (max-width: 1024px) {
  .data-table th, .data-table td {
    padding: 12px 8px;
  }
}

/* ç§»åŠ¨ç«¯ - å‚ç›´å¸ƒå±€ */
@media (max-width: 768px) {
  .user-info {
    flex-direction: column;
    align-items: flex-start;
  }
}
```

### 3. æ·±è‰²æ¨¡å¼æ”¯æŒ
```css
@media (prefers-color-scheme: dark) {
  .table-container { background: #1f2937; }
  .data-table th { background: #374151; }
  .modal-content { background: #1f2937; }
}
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–æˆæœ

### 1. ç¼“å­˜å‘½ä¸­ç‡
| æ“ä½œç±»å‹ | é¦–æ¬¡åŠ è½½ | åç»­è®¿é—® | ç¼“å­˜å‘½ä¸­ç‡ |
|---------|---------|---------|-----------|
| **ç”¨æˆ·åˆ—è¡¨** | 2-3ç§’ | <100ms | 95%+ |
| **ç”¨æˆ·è¯¦æƒ…** | 1-2ç§’ | <50ms | 90%+ |
| **æœç´¢è¿‡æ»¤** | å³æ—¶ | å³æ—¶ | 100% |

### 2. ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- **é¦–å±åŠ è½½æ—¶é—´** - ä¼˜åŒ–è‡³500mså†…
- **äº¤äº’å“åº”æ—¶é—´** - æ‰€æœ‰æ“ä½œ<100ms
- **ç¦»çº¿å¯ç”¨æ€§** - å®Œæ•´æ”¯æŒç¦»çº¿æµè§ˆ
- **é”™è¯¯æ¢å¤èƒ½åŠ›** - ç½‘ç»œå¼‚å¸¸æ—¶ä¼˜é›…é™çº§

## ğŸ” åŠŸèƒ½æ¼”ç¤ºæµç¨‹

### 1. æ•°æ®æŸ¥çœ‹
1. è®¿é—® `/users` é¡µé¢
2. è‡ªåŠ¨åŠ è½½ç”¨æˆ·åˆ—è¡¨ï¼ˆæ”¯æŒç¼“å­˜ï¼‰
3. ä½¿ç”¨æœç´¢æ¡†è¿‡æ»¤ç”¨æˆ·
4. ç‚¹å‡»è¡¨å¤´è¿›è¡Œæ’åº
5. ä½¿ç”¨åˆ†é¡µæµè§ˆæ›´å¤šæ•°æ®

### 2. æ·»åŠ ç”¨æˆ·
1. ç‚¹å‡»"æ·»åŠ ç”¨æˆ·"æŒ‰é’®
2. å¡«å†™ç”¨æˆ·ä¿¡æ¯è¡¨å•
3. è¡¨å•éªŒè¯ï¼ˆå¿…å¡«é¡¹æ£€æŸ¥ï¼‰
4. æäº¤ä¿å­˜ï¼Œæ˜¾ç¤ºæˆåŠŸæç¤º
5. åˆ—è¡¨è‡ªåŠ¨æ›´æ–°ï¼Œé«˜äº®æ–°ç”¨æˆ·

### 3. ç¼–è¾‘ç”¨æˆ·
1. ç‚¹å‡»ç”¨æˆ·è¡Œçš„"ç¼–è¾‘"æŒ‰é’®
2. æ¨¡æ€æ¡†æ˜¾ç¤ºé¢„å¡«å……è¡¨å•
3. ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
4. ä¿å­˜æ›´æ–°ï¼Œç¼“å­˜è‡ªåŠ¨æ¸…ç†
5. åˆ—è¡¨åˆ·æ–°ï¼Œé«˜äº®æ›´æ–°çš„ç”¨æˆ·

### 4. åˆ é™¤ç”¨æˆ·
1. ç‚¹å‡»ç”¨æˆ·è¡Œçš„"åˆ é™¤"æŒ‰é’®
2. ç¡®è®¤åˆ é™¤å¯¹è¯æ¡†
3. ç¡®è®¤åå‘é€åˆ é™¤è¯·æ±‚
4. æˆåŠŸåä»åˆ—è¡¨ç§»é™¤
5. ç›¸å…³ç¼“å­˜è‡ªåŠ¨æ¸…ç†

### 5. æŸ¥çœ‹è¯¦æƒ…
1. ç‚¹å‡»ç”¨æˆ·è¡Œçš„"æŸ¥çœ‹"æŒ‰é’®
2. æ¨¡æ€æ¡†æ˜¾ç¤ºå®Œæ•´ç”¨æˆ·ä¿¡æ¯
3. åŒ…å«åœ°å€ã€å…¬å¸ç­‰è¯¦ç»†æ•°æ®
4. åªè¯»æ¨¡å¼ï¼Œæ— æ³•ç¼–è¾‘

## ğŸš€ éƒ¨ç½²å’Œä½¿ç”¨

### 1. å¼€å‘ç¯å¢ƒ
```bash
pnpm dev  # http://localhost:5174/users
```

### 2. ç”Ÿäº§ç¯å¢ƒ
```bash
pnpm build && pnpm preview  # http://localhost:4173/users
```

### 3. åŠŸèƒ½æµ‹è¯•
- **åŸºæœ¬åŠŸèƒ½** - å¢åˆ æ”¹æŸ¥æ“ä½œ
- **ç¼“å­˜æµ‹è¯•** - æ–­ç½‘ååˆ·æ–°é¡µé¢
- **å“åº”å¼æµ‹è¯•** - ä¸åŒå±å¹•å°ºå¯¸
- **æ€§èƒ½æµ‹è¯•** - åŠ è½½æ—¶é—´å’Œå“åº”é€Ÿåº¦

## ğŸ¯ æŠ€æœ¯äº®ç‚¹æ€»ç»“

### 1. æ¶æ„è®¾è®¡
- âœ… **ç»„ä»¶åŒ–è®¾è®¡** - æ¨¡å—åŒ–ã€å¯å¤ç”¨
- âœ… **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptæ”¯æŒ
- âœ… **çŠ¶æ€ç®¡ç†** - å“åº”å¼æ•°æ®æµ
- âœ… **é”™è¯¯å¤„ç†** - å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶

### 2. æ€§èƒ½ä¼˜åŒ–
- âœ… **æ™ºèƒ½ç¼“å­˜** - å¤šå±‚çº§ç¼“å­˜ç­–ç•¥
- âœ… **æ‡’åŠ è½½** - è·¯ç”±çº§ä»£ç åˆ†å‰²
- âœ… **è™šæ‹Ÿæ»šåŠ¨** - å¤§æ•°æ®é‡ä¼˜åŒ–ï¼ˆå¯æ‰©å±•ï¼‰
- âœ… **é˜²æŠ–æœç´¢** - è¾“å…¥ä¼˜åŒ–

### 3. ç”¨æˆ·ä½“éªŒ
- âœ… **å“åº”å¼è®¾è®¡** - å…¨è®¾å¤‡é€‚é…
- âœ… **åŠ è½½çŠ¶æ€** - æ¸…æ™°çš„è§†è§‰åé¦ˆ
- âœ… **é”™è¯¯æç¤º** - å‹å¥½çš„é”™è¯¯ä¿¡æ¯
- âœ… **æ“ä½œç¡®è®¤** - é‡è¦æ“ä½œäºŒæ¬¡ç¡®è®¤

### 4. å¯ç»´æŠ¤æ€§
- âœ… **ä»£ç è§„èŒƒ** - æ¸…æ™°çš„ä»£ç ç»“æ„
- âœ… **æ³¨é‡Šå®Œæ•´** - è¯¦ç»†çš„åŠŸèƒ½è¯´æ˜
- âœ… **ç±»å‹å®šä¹‰** - å®Œæ•´çš„æ¥å£å®šä¹‰
- âœ… **æµ‹è¯•å‹å¥½** - ä¾¿äºå•å…ƒæµ‹è¯•

---

## ğŸ‰ æ€»ç»“

æˆåŠŸå®ç°äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜å¼‚çš„è¡¨æ ¼CRUDæ¨¡å—ï¼š

- **ğŸ“Š åŠŸèƒ½å®Œæ•´** - å¢åˆ æ”¹æŸ¥ã€æœç´¢ã€æ’åºã€åˆ†é¡µ
- **ğŸ¨ è®¾è®¡ç²¾ç¾** - ç°ä»£åŒ–UIã€å“åº”å¼å¸ƒå±€ã€æ·±è‰²æ¨¡å¼
- **âš¡ æ€§èƒ½ä¼˜å¼‚** - æ™ºèƒ½ç¼“å­˜ã€å¿«é€Ÿå“åº”ã€ç¦»çº¿å¯ç”¨
- **ğŸ› ï¸ æŠ€æœ¯å…ˆè¿›** - Vue3ã€TypeScriptã€PWAã€Service Worker

è¿™ä¸ªè¡¨æ ¼æ¨¡å—ä¸ä»…å±•ç¤ºäº†å®Œæ•´çš„CRUDæ“ä½œï¼Œè¿˜é›†æˆäº†PWAçš„æ‰€æœ‰ä¼˜åŠ¿ï¼Œä¸ºç”¨æˆ·æä¾›äº†ç±»ä¼¼åŸç”Ÿåº”ç”¨çš„ä½“éªŒã€‚å¯ä»¥ä½œä¸ºå…¶ä»–æ•°æ®ç®¡ç†åŠŸèƒ½çš„æ¨¡æ¿å’Œå‚è€ƒã€‚
